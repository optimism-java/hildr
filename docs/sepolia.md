# Run a optimism sepolia node

Almost steps same as start a devnet hildr node.

## Get started

### Configure OP-Geth for Hildr

Once you have successfully started the OP devnet docker containers, proceed to the next step: launching an `op-geth` L2 instance for Hildr node.

Download genesis json file for the `op-geth`:
```shell
wget "https://storage.googleapis.com/oplabs-network-data/Sepolia/genesis.json" -O ./genesis-l2.json
```

Navigate to the `hildr/docker` directory and copy the configuration:

    cp .env.default .env

Edit the `.env` file located within the directory:

```toml
# Set the network value to `devnet` in the configuration.
NETWORK=optimism-sepolia

# To avoid potential conflicts with the default ports in the OP devnet, it's recommended to modify the RPC ports.

# The exeuction client Auth RPC port.
EXECUTION_CLIENT_AUTH_RPC_PORT=5551

# The execution client RPC port.
EXECUTION_CLIENT_RPC_PORT=5545

# The execution client WebSocket port.
EXECUTION_CLIENT_WS_PORT=5546

# Only for `custom` or `devnet` network.
# Specify the path to the `genesis-l2.json` file generated by `op-node`.
# For the devnet configuration, this file should be located in the `.devnet` folder within the Optimism directory.
OP_GENESIS_JSON_FILEPATH=<downloaded sepolia genesis-l2.json file path>
```

To initiate, start the `op-geth` node:

```
    docker-compose up op-geth
```

### Launch Hildr node

Build Hildr:

```shell
    ./gradlew build -x test
```

Launch Hildr node:

```shell
    java \
        --enable-preview \
        -cp hildr-node/build/libs/hildr-node-0.1.0.jar io.optimism.Hildr \
        --network optimism-sepolia \ # Specify the path to the `rollup.json` file, akin to `OP_ROLLUP_JSON_FILEPATH`
        --jwt-secret bf549f5188556ce0951048ef467ec93067bc4ea21acebe46ef675cd4e8e015ff \ # Replace only if altered in `.env`.
        --l1-rpc-url https://eth-sepolia.g.alchemy.com/v2/<Alchemy Api Key> \ # This depends on the Ethereum Sepolia Chain configuration.
        --l1-ws-rpc-url wss://eth-sepolia.g.alchemy.com/v2/<Alchemy Api Key> \ # This depends on the Ethereum Sepolia Chain configuration.
        --l2-rpc-url http://127.0.0.1:5545 \ # As per the Hildr `op-geth` configuration (refer to devnet profile).
        --l2-engine-url http://127.0.0.1:5551 \ # As per the Hildr `op-geth` configuration (see devnet profile).
        --rpc-port 11545 \ # Choose any available port.
        --sync-mode full # Other modes haven't been tested.

```

Remember to adjust the parameters as necessary based on your setup and configurations.

## Trouble shooting

If the Hildr node stops syncing, you can restart the Hildr node.